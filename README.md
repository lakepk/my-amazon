# 亚马逊棋
第一个完成的游戏项目,算是第一次工程实践<br>
***
**IDE:VScode**<br>
**图形库:Raylib**<br>
**算法:蒙特卡洛算法以及预设规则**
***

记录一下自己的完成流程:
## 第一步1️⃣:查找适合的图形库并完成双人对战框架
### 初版
查找适合的图形库看似简单,实则耗费了我挺多时间.实际上,这一版并非我的初版<br>
初版时,我听信某ai谗言,选择了SFML作为我的图形库.首次引入图形库非常痛苦不说,我习惯于用ai获得各种图形库函数,比如isOpenWindow()<br>
然而,要么是ai数据库中的数据过旧,要么是vscode异常报错,我跟着ai写出各种函数以及属性,经常会得到红色波浪线.<br>
这时候,我就会问ai到底是不是这样,ai有时候坚持己见,有时候就跟我道歉说自己记错了<br>
记错的时候,我就改.<br>
它坚持己见的时候,我就运行,看到底能不能运行.~~不管黑猫白猫捉到老鼠就是好猫~~😄<br>
然而,我的经验不足,经常一下开几个终端,这个终端还在运行程序的时候,我就迫不及待开另一个<br>
那么结果当然是失败<br>
面对满屏的红色波浪线和靠玄学work的程序,我华丽丽地放弃了<br>
就这样过了一个月,我终于开启了第二版
### 终版
我彻底放弃了前面所有的代码,但是失败经验并非什么都没留给我.<br>
我终于找到一个比较靠谱的2D图形库:Raylib<br>
将Raylib下载到本地之后,我跟着ai,首先写出来一个Cmake文件<br>
很显然,Cmake大大简化了我的工作<br>
具体如何简化的,我暂时还没头绪,但工作效率确实高多了<br>
接着就是失败经验交给我的:游戏流程逻辑<br>
我很快写好整个框架,先初始化为双人对战,没有引入bot逻辑,便于检查bug<br>
***
## 第二步2️⃣:完善bot的逻辑:蒙特卡洛算法
说实在的,之前我也对蒙特卡洛算法知之甚少<br>
但是跟着ai做完之后感觉好像也就那样,~~也就是力大转飞?~~ 🤔<br>
首先是几个重要函数:getAllLegalMoves(),getBestMove(),simulate()<br>
简直太暴力了...(这是我看完ai给的方案后的第一想法)<br>
事实证明只是我不敢想.一直以来的OJ式训练让我忘记了计算机有着极其强大的计算能力和极大的内存<br>
最重要的是一个评估函数,大概是不断迭代来的吧.<br>
放在这个游戏里,这个函数应该可以迭代出更精确(体现在bot上就是更聪明)的版本<br>
但我没时间去调常数了<br>
***
## 第三步3️⃣:完善游戏UI以及surplus功能🍻
其实我最开始想的是鼠标操作的😞<br>
但是发现如果要判定鼠标位置范围以及设定文字位置太磨人了<br>
于是只好偷懒用按键来控制游戏ui<br>
以及由于这个图形库不支持中文,只好用英语做图标<br>
***
由于我在之前搞逻辑的时候还没有考虑UI的事情,所以我的程序是一启动就进入游戏界面<br>
为此我添加了一个类:GameManager🥰<br>
我发现面对对象编程真是个好东西<br>
然后通过储存棋盘状态进history,实现了复盘功能;<br>
通过将棋盘写入文件,实现了存档读档功能<br>
令我有些惊讶的事是:ai对于复盘功能的实现,是直接初始化棋盘,然后从history里面读取操作进行复盘<br>
也就是说,相当于重新复刻了这一盘棋<br>
稍加约束,玩家当然是看不出来的<br>
但是这版没有添加约束,导致你随时可以开始复盘,随时可以结束复盘然后从这个时刻开始重新下<br>
bot:😲*太不要脸了!!!*<br>
ummmm<br>
后面也许会上传添加约束的版本<br>
***
## 关于botzone
不知道是不是特例还是通用的<br>
总之上传到这种在线测评网站的时候一定要注意接口的事情!!!
